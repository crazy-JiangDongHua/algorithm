栈就不多详细介绍了，后进先出，有几个常见的应用：

* 中缀表达式求值
* 括号匹配
* 十进制转x进制，高位后算出来先输出

练习：

1. leetocode 20 有效的括号：括号匹配

2. leetocode 32 最长有效括号：

   1. 动态规划，时间O(n)，空间O(n)

      我们定义 dp[i] 表示以下标 i 字符结尾的最长有效括号的长度，‘(‘ 结尾的子串对应的 dp 值必定为 0。只需要考虑 ')' 结尾的dp，分前位是 ’(‘ 还是 ')' 讨论

   2. 用栈一遍扫描，时间O(n)，空间O(n)

      栈底一直保存最近失配的右括号的id，对于左括号就入栈id，对于右括号，出栈栈顶元素，如果栈不为空，说明出的是左括号，那就合法，算长度；如果栈为空，说明出的是右括号，失配，把现在右括号的id放进去。栈先放一个-1进去保持一致。

   3. 计数，时间O(n)，空间O(1)

      因为只有一种括号，所以第二种方法可以不用栈，可以直接计数。记住左右括号的数量，相等时则有效，从左往右和从右往左扫描两遍，因为从左往右扫描会漏掉左括号数量一直大于右括号的数量的情况。

3. leetocde 84 柱状图中最大的矩形：遍历高度，通过单调栈来计算左边界和右边界，可以扫描两遍，也可以通过扫描一遍同时获得左右边界，获得常数优化，此时右边界不准确，但不影响结果，因为相等高度矩形的最后一个右边界一定是准确的，不影响答案。

4. leetcode 150 逆波兰表达式求值：从左到右，遇到数就存，遇到算符就算。

5. leetocde 227 基本计算器2：只有加减乘除的表达式求值

6. leetocde 224 基本计算器：第一种方法是，使用通用的优先级定义，使用数字栈和符号栈来计算，重点在于将负号这一一元操作，通过压入0的方式转为二元操作。第二种方法是，因为只有加减法，所以可以直接去括号，这样做数字不变，符号可能会变，用栈来保存括号内的数的符号即可。