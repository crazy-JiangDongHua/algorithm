来看一个问题：给定非负整数序列A，元素个数为N（N<=10^5, A[i]<=10^5）,在有可能随时添加或删除元素的情况下，实时查询序列元素第k大。对于这种查询过程中序列可能发生变化的情况，叫**在线查询**，否则叫**离线查询**。

如果使用暴力的方法插入和删除，那么每次变化需要$O(n)$的时间，使用划分减治的思想搜索第k大，也需要$O(n)$的时间。

如果使用桶排序的思想，进行分块。使用哈希表`ht[N]`存储序列，`h[x]`表示`x`在序列中的个数，对N个元素划分为$ceil(O(\sqrt N))$块，每块包含$Ofloor((\sqrt N))$个元素。然后使用`block[i]`记录第`i`块有多少个元素。这样插入和删除`x`只需要改变`ht[x]`和`block[x/sqrt(N)]`，花费$O(1)$的时间。查询第k大，首先找到第k大元素在哪个块，然后在深入块查询，只需要$O(\sqrt N)$的时间复杂度。

练习：
1. PAT A1057 Stack(30)：实现栈的同时，再实现分块查询。